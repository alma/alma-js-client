!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("axios")):"function"==typeof define&&define.amd?define(["exports","axios"],e):e((t=t||self).client={},t.axios)}(this,function(t,e){e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},n.exports),n.exports}var o=function(t){return t&&t.Math==Math&&t},i=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n&&n)||Function("return this")(),u=function(t){try{return!!t()}catch(t){return!0}},c=!u(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),a=function(t){return"object"==typeof t?null!==t:"function"==typeof t},s=i.document,f=a(s)&&a(s.createElement),l=function(t){return f?s.createElement(t):{}},p=!c&&!u(function(){return 7!=Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a}),h=function(t){if(!a(t))throw TypeError(String(t)+" is not an object");return t},d=function(t,e){if(!a(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!a(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!a(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!a(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},v=Object.defineProperty,y={f:c?v:function(t,e,n){if(h(t),e=d(e,!0),h(n),p)try{return v(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},g=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},m=c?function(t,e,n){return y.f(t,e,g(1,n))}:function(t,e,n){return t[e]=n,t},w=function(t,e){try{m(i,t,e)}catch(n){i[t]=e}return e},b=i["__core-js_shared__"]||w("__core-js_shared__",{}),S=r(function(t){(t.exports=function(t,e){return b[t]||(b[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})}),E={}.hasOwnProperty,j=function(t,e){return E.call(t,e)},x=0,O=Math.random(),A=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++x+O).toString(36)},L=!!Object.getOwnPropertySymbols&&!u(function(){return!String(Symbol())}),T=L&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,P=S("wks"),_=i.Symbol,k=T?_:_&&_.withoutSetter||A,M=function(t){return j(P,t)||(P[t]=L&&j(_,t)?_[t]:k("Symbol."+t)),P[t]},I={};I[M("toStringTag")]="z";var R="[object z]"===String(I),C=Function.toString;"function"!=typeof b.inspectSource&&(b.inspectSource=function(t){return C.call(t)});var F,D,N,G=b.inspectSource,q=i.WeakMap,W="function"==typeof q&&/native code/.test(G(q)),z=S("keys"),V=function(t){return z[t]||(z[t]=A(t))},U={};if(W){var K=new(0,i.WeakMap),B=K.get,H=K.has,Y=K.set;F=function(t,e){return Y.call(K,t,e),e},D=function(t){return B.call(K,t)||{}},N=function(t){return H.call(K,t)}}else{var Q=V("state");U[Q]=!0,F=function(t,e){return m(t,Q,e),e},D=function(t){return j(t,Q)?t[Q]:{}},N=function(t){return j(t,Q)}}var J={set:F,get:D,has:N,enforce:function(t){return N(t)?D(t):F(t,{})},getterFor:function(t){return function(e){var n;if(!a(e)||(n=D(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},X=r(function(t){var e=J.get,n=J.enforce,r=String(String).split("String");(t.exports=function(t,e,o,u){var c=!!u&&!!u.unsafe,a=!!u&&!!u.enumerable,s=!!u&&!!u.noTargetGet;"function"==typeof o&&("string"!=typeof e||j(o,"name")||m(o,"name",e),n(o).source=r.join("string"==typeof e?e:"")),t!==i?(c?!s&&t[e]&&(a=!0):delete t[e],a?t[e]=o:m(t,e,o)):a?t[e]=o:w(e,o)})(Function.prototype,"toString",function(){return"function"==typeof this&&e(this).source||G(this)})}),Z={}.toString,$=function(t){return Z.call(t).slice(8,-1)},tt=M("toStringTag"),et="Arguments"==$(function(){return arguments}()),nt=R?$:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),tt))?n:et?$(e):"Object"==(r=$(e))&&"function"==typeof e.callee?"Arguments":r};R||X(Object.prototype,"toString",R?{}.toString:function(){return"[object "+nt(this)+"]"},{unsafe:!0});var rt,ot,it,ut=Math.ceil,ct=Math.floor,at=function(t){return isNaN(t=+t)?0:(t>0?ct:ut)(t)},st=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},ft=function(t){return function(e,n){var r,o,i=String(st(e)),u=at(n),c=i.length;return u<0||u>=c?t?"":void 0:(r=i.charCodeAt(u))<55296||r>56319||u+1===c||(o=i.charCodeAt(u+1))<56320||o>57343?t?i.charAt(u):r:t?i.slice(u,u+2):o-56320+(r-55296<<10)+65536}},lt={codeAt:ft(!1),charAt:ft(!0)},pt={}.propertyIsEnumerable,ht=Object.getOwnPropertyDescriptor,dt={f:ht&&!pt.call({1:2},1)?function(t){var e=ht(this,t);return!!e&&e.enumerable}:pt},vt="".split,yt=u(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==$(t)?vt.call(t,""):Object(t)}:Object,gt=function(t){return yt(st(t))},mt=Object.getOwnPropertyDescriptor,wt={f:c?mt:function(t,e){if(t=gt(t),e=d(e,!0),p)try{return mt(t,e)}catch(t){}if(j(t,e))return g(!dt.f.call(t,e),t[e])}},bt=i,St=function(t){return"function"==typeof t?t:void 0},Et=function(t,e){return arguments.length<2?St(bt[t])||St(i[t]):bt[t]&&bt[t][e]||i[t]&&i[t][e]},jt=Math.min,xt=function(t){return t>0?jt(at(t),9007199254740991):0},Ot=Math.max,At=Math.min,Lt=function(t){return function(e,n,r){var o,i=gt(e),u=xt(i.length),c=function(t,e){var n=at(t);return n<0?Ot(n+e,0):At(n,e)}(r,u);if(t&&n!=n){for(;u>c;)if((o=i[c++])!=o)return!0}else for(;u>c;c++)if((t||c in i)&&i[c]===n)return t||c||0;return!t&&-1}},Tt=(Lt(!0),Lt(!1)),Pt=function(t,e){var n,r=gt(t),o=0,i=[];for(n in r)!j(U,n)&&j(r,n)&&i.push(n);for(;e.length>o;)j(r,n=e[o++])&&(~Tt(i,n)||i.push(n));return i},_t=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],kt=_t.concat("length","prototype"),Mt={f:Object.getOwnPropertyNames||function(t){return Pt(t,kt)}},It={f:Object.getOwnPropertySymbols},Rt=Et("Reflect","ownKeys")||function(t){var e=Mt.f(h(t)),n=It.f;return n?e.concat(n(t)):e},Ct=function(t,e){for(var n=Rt(e),r=y.f,o=wt.f,i=0;i<n.length;i++){var u=n[i];j(t,u)||r(t,u,o(e,u))}},Ft=/#|\.prototype\./,Dt=function(t,e){var n=Gt[Nt(t)];return n==Wt||n!=qt&&("function"==typeof e?u(e):!!e)},Nt=Dt.normalize=function(t){return String(t).replace(Ft,".").toLowerCase()},Gt=Dt.data={},qt=Dt.NATIVE="N",Wt=Dt.POLYFILL="P",zt=Dt,Vt=wt.f,Ut=function(t,e){var n,r,o,u,c,a=t.target,s=t.global,f=t.stat;if(n=s?i:f?i[a]||w(a,{}):(i[a]||{}).prototype)for(r in e){if(u=e[r],o=t.noTargetGet?(c=Vt(n,r))&&c.value:n[r],!zt(s?r:a+(f?".":"#")+r,t.forced)&&void 0!==o){if(typeof u==typeof o)continue;Ct(u,o)}(t.sham||o&&o.sham)&&m(u,"sham",!0),X(n,r,u,t)}},Kt=function(t){return Object(st(t))},Bt=!u(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),Ht=V("IE_PROTO"),Yt=Object.prototype,Qt=Bt?Object.getPrototypeOf:function(t){return t=Kt(t),j(t,Ht)?t[Ht]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Yt:null},Jt=M("iterator"),Xt=!1;[].keys&&("next"in(it=[].keys())?(ot=Qt(Qt(it)))!==Object.prototype&&(rt=ot):Xt=!0),null==rt&&(rt={}),j(rt,Jt)||m(rt,Jt,function(){return this});var Zt,$t={IteratorPrototype:rt,BUGGY_SAFARI_ITERATORS:Xt},te=Object.keys||function(t){return Pt(t,_t)},ee=c?Object.defineProperties:function(t,e){h(t);for(var n,r=te(e),o=r.length,i=0;o>i;)y.f(t,n=r[i++],e[n]);return t},ne=Et("document","documentElement"),re=V("IE_PROTO"),oe=function(){},ie=function(t){return"<script>"+t+"<\/script>"},ue=function(){try{Zt=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;ue=Zt?function(t){t.write(ie("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Zt):((e=l("iframe")).style.display="none",ne.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(ie("document.F=Object")),t.close(),t.F);for(var n=_t.length;n--;)delete ue.prototype[_t[n]];return ue()};U[re]=!0;var ce=Object.create||function(t,e){var n;return null!==t?(oe.prototype=h(t),n=new oe,oe.prototype=null,n[re]=t):n=ue(),void 0===e?n:ee(n,e)},ae=y.f,se=M("toStringTag"),fe=function(t,e,n){t&&!j(t=n?t:t.prototype,se)&&ae(t,se,{configurable:!0,value:e})},le={},pe=$t.IteratorPrototype,he=function(){return this},de=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return h(n),function(t){if(!a(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),ve=$t.IteratorPrototype,ye=$t.BUGGY_SAFARI_ITERATORS,ge=M("iterator"),me=function(){return this},we=function(t,e,n,r,o,i,u){!function(t,e,n){var r=e+" Iterator";t.prototype=ce(pe,{next:g(1,n)}),fe(t,r,!1),le[r]=he}(n,e,r);var c,a,s,f=function(t){if(t===o&&v)return v;if(!ye&&t in h)return h[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},l=e+" Iterator",p=!1,h=t.prototype,d=h[ge]||h["@@iterator"]||o&&h[o],v=!ye&&d||f(o),y="Array"==e&&h.entries||d;if(y&&(c=Qt(y.call(new t)),ve!==Object.prototype&&c.next&&(Qt(c)!==ve&&(de?de(c,ve):"function"!=typeof c[ge]&&m(c,ge,me)),fe(c,l,!0))),"values"==o&&d&&"values"!==d.name&&(p=!0,v=function(){return d.call(this)}),h[ge]!==v&&m(h,ge,v),le[e]=v,o)if(a={values:f("values"),keys:i?v:f("keys"),entries:f("entries")},u)for(s in a)(ye||p||!(s in h))&&X(h,s,a[s]);else Ut({target:e,proto:!0,forced:ye||p},a);return a},be=lt.charAt,Se=J.set,Ee=J.getterFor("String Iterator");we(String,"String",function(t){Se(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=Ee(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=be(n,r),e.index+=t.length,{value:t,done:!1})});var je={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},xe=M("unscopables"),Oe=Array.prototype;null==Oe[xe]&&y.f(Oe,xe,{configurable:!0,value:ce(null)});var Ae=function(t){Oe[xe][t]=!0},Le=J.set,Te=J.getterFor("Array Iterator"),Pe=we(Array,"Array",function(t,e){Le(this,{type:"Array Iterator",target:gt(t),index:0,kind:e})},function(){var t=Te(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values");le.Arguments=le.Array,Ae("keys"),Ae("values"),Ae("entries");var _e=M("iterator"),ke=M("toStringTag"),Me=Pe.values;for(var Ie in je){var Re=i[Ie],Ce=Re&&Re.prototype;if(Ce){if(Ce[_e]!==Me)try{m(Ce,_e,Me)}catch(t){Ce[_e]=Me}if(Ce[ke]||m(Ce,ke,Ie),je[Ie])for(var Fe in Pe)if(Ce[Fe]!==Pe[Fe])try{m(Ce,Fe,Pe[Fe])}catch(t){Ce[Fe]=Pe[Fe]}}}var De=i.Promise,Ne=function(t,e,n){for(var r in e)X(t,r,e[r],n);return t},Ge=M("species"),qe=function(t){var e=Et(t);c&&e&&!e[Ge]&&(0,y.f)(e,Ge,{configurable:!0,get:function(){return this}})},We=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},ze=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},Ve=M("iterator"),Ue=Array.prototype,Ke=function(t,e,n){if(We(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},Be=M("iterator"),He=function(t,e,n,r){try{return r?e(h(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&h(o.call(t)),e}},Ye=r(function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,n,r,o,i){var u,c,a,s,f,l,p,d,v=Ke(n,r,o?2:1);if(i)u=t;else{if("function"!=typeof(c=function(t){if(null!=t)return t[Be]||t["@@iterator"]||le[nt(t)]}(t)))throw TypeError("Target is not iterable");if(void 0!==(d=c)&&(le.Array===d||Ue[Ve]===d)){for(a=0,s=xt(t.length);s>a;a++)if((f=o?v(h(p=t[a])[0],p[1]):v(t[a]))&&f instanceof e)return f;return new e(!1)}u=c.call(t)}for(l=u.next;!(p=l.call(u)).done;)if("object"==typeof(f=He(u,v,p.value,o))&&f&&f instanceof e)return f;return new e(!1)}).stop=function(t){return new e(!0,t)}}),Qe=M("iterator"),Je=!1;try{var Xe=0,Ze={next:function(){return{done:!!Xe++}},return:function(){Je=!0}};Ze[Qe]=function(){return this},Array.from(Ze,function(){throw 2})}catch(t){}var $e,tn,en,nn=function(t,e){if(!e&&!Je)return!1;var n=!1;try{var r={};r[Qe]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},rn=M("species"),on=function(t,e){var n,r=h(t).constructor;return void 0===r||null==(n=h(r)[rn])?e:We(n)},un=Et("navigator","userAgent")||"",cn=/(iphone|ipod|ipad).*applewebkit/i.test(un),an=i.location,sn=i.setImmediate,fn=i.clearImmediate,ln=i.process,pn=i.MessageChannel,hn=i.Dispatch,dn=0,vn={},yn=function(t){if(vn.hasOwnProperty(t)){var e=vn[t];delete vn[t],e()}},gn=function(t){return function(){yn(t)}},mn=function(t){yn(t.data)},wn=function(t){i.postMessage(t+"",an.protocol+"//"+an.host)};sn&&fn||(sn=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return vn[++dn]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},$e(dn),dn},fn=function(t){delete vn[t]},"process"==$(ln)?$e=function(t){ln.nextTick(gn(t))}:hn&&hn.now?$e=function(t){hn.now(gn(t))}:pn&&!cn?(en=(tn=new pn).port2,tn.port1.onmessage=mn,$e=Ke(en.postMessage,en,1)):!i.addEventListener||"function"!=typeof postMessage||i.importScripts||u(wn)||"file:"===an.protocol?$e="onreadystatechange"in l("script")?function(t){ne.appendChild(l("script")).onreadystatechange=function(){ne.removeChild(this),yn(t)}}:function(t){setTimeout(gn(t),0)}:($e=wn,i.addEventListener("message",mn,!1)));var bn,Sn,En,jn,xn,On,An,Ln,Tn={set:sn,clear:fn},Pn=wt.f,_n=Tn.set,kn=i.MutationObserver||i.WebKitMutationObserver,Mn=i.process,In=i.Promise,Rn="process"==$(Mn),Cn=Pn(i,"queueMicrotask"),Fn=Cn&&Cn.value;Fn||(bn=function(){var t,e;for(Rn&&(t=Mn.domain)&&t.exit();Sn;){e=Sn.fn,Sn=Sn.next;try{e()}catch(t){throw Sn?jn():En=void 0,t}}En=void 0,t&&t.enter()},Rn?jn=function(){Mn.nextTick(bn)}:kn&&!cn?(xn=!0,On=document.createTextNode(""),new kn(bn).observe(On,{characterData:!0}),jn=function(){On.data=xn=!xn}):In&&In.resolve?(An=In.resolve(void 0),Ln=An.then,jn=function(){Ln.call(An,bn)}):jn=function(){_n.call(i,bn)});var Dn,Nn,Gn=Fn||function(t){var e={fn:t,next:void 0};En&&(En.next=e),Sn||(Sn=e,jn()),En=e},qn=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=We(e),this.reject=We(n)},Wn={f:function(t){return new qn(t)}},zn=function(t,e){if(h(t),a(e)&&e.constructor===t)return e;var n=Wn.f(t);return(0,n.resolve)(e),n.promise},Vn=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Un=i.process,Kn=Un&&Un.versions,Bn=Kn&&Kn.v8;Bn?Nn=(Dn=Bn.split("."))[0]+Dn[1]:un&&(!(Dn=un.match(/Edge\/(\d+)/))||Dn[1]>=74)&&(Dn=un.match(/Chrome\/(\d+)/))&&(Nn=Dn[1]);var Hn,Yn,Qn,Jn,Xn=Nn&&+Nn,Zn=Tn.set,$n=M("species"),tr="Promise",er=J.get,nr=J.set,rr=J.getterFor(tr),or=De,ir=i.TypeError,ur=i.document,cr=i.process,ar=Et("fetch"),sr=Wn.f,fr=sr,lr="process"==$(cr),pr=!!(ur&&ur.createEvent&&i.dispatchEvent),hr=zt(tr,function(){if(G(or)===String(or)){if(66===Xn)return!0;if(!lr&&"function"!=typeof PromiseRejectionEvent)return!0}if(Xn>=51&&/native code/.test(or))return!1;var t=or.resolve(1),e=function(t){t(function(){},function(){})};return(t.constructor={})[$n]=e,!(t.then(function(){})instanceof e)}),dr=hr||!nn(function(t){or.all(t).catch(function(){})}),vr=function(t){var e;return!(!a(t)||"function"!=typeof(e=t.then))&&e},yr=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;Gn(function(){for(var o=e.value,i=1==e.state,u=0;r.length>u;){var c,a,s,f=r[u++],l=i?f.ok:f.fail,p=f.resolve,h=f.reject,d=f.domain;try{l?(i||(2===e.rejection&&br(t,e),e.rejection=1),!0===l?c=o:(d&&d.enter(),c=l(o),d&&(d.exit(),s=!0)),c===f.promise?h(ir("Promise-chain cycle")):(a=vr(c))?a.call(c,p,h):p(c)):h(o)}catch(t){d&&!s&&d.exit(),h(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&mr(t,e)})}},gr=function(t,e,n){var r,o;pr?((r=ur.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),i.dispatchEvent(r)):r={promise:e,reason:n},(o=i["on"+t])?o(r):"unhandledrejection"===t&&function(t,e){var n=i.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},mr=function(t,e){Zn.call(i,function(){var n,r=e.value;if(wr(e)&&(n=Vn(function(){lr?cr.emit("unhandledRejection",r,t):gr("unhandledrejection",t,r)}),e.rejection=lr||wr(e)?2:1,n.error))throw n.value})},wr=function(t){return 1!==t.rejection&&!t.parent},br=function(t,e){Zn.call(i,function(){lr?cr.emit("rejectionHandled",t):gr("rejectionhandled",t,e.value)})},Sr=function(t,e,n,r){return function(o){t(e,n,o,r)}},Er=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,yr(t,e,!0))},jr=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw ir("Promise can't be resolved itself");var o=vr(n);o?Gn(function(){var r={done:!1};try{o.call(n,Sr(jr,t,r,e),Sr(Er,t,r,e))}catch(n){Er(t,r,n,e)}}):(e.value=n,e.state=1,yr(t,e,!1))}catch(n){Er(t,{done:!1},n,e)}}};hr&&(or=function(t){ze(this,or,tr),We(t),Hn.call(this);var e=er(this);try{t(Sr(jr,this,e),Sr(Er,this,e))}catch(t){Er(this,e,t)}},(Hn=function(t){nr(this,{type:tr,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Ne(or.prototype,{then:function(t,e){var n=rr(this),r=sr(on(this,or));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=lr?cr.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&yr(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),Yn=function(){var t=new Hn,e=er(t);this.promise=t,this.resolve=Sr(jr,t,e),this.reject=Sr(Er,t,e)},Wn.f=sr=function(t){return t===or||t===Qn?new Yn(t):fr(t)},"function"==typeof De&&(Jn=De.prototype.then,X(De.prototype,"then",function(t,e){var n=this;return new or(function(t,e){Jn.call(n,t,e)}).then(t,e)},{unsafe:!0}),"function"==typeof ar&&Ut({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return zn(or,ar.apply(i,arguments))}}))),Ut({global:!0,wrap:!0,forced:hr},{Promise:or}),fe(or,tr,!1),qe(tr),Qn=Et(tr),Ut({target:tr,stat:!0,forced:hr},{reject:function(t){var e=sr(this);return e.reject.call(void 0,t),e.promise}}),Ut({target:tr,stat:!0,forced:hr},{resolve:function(t){return zn(this,t)}}),Ut({target:tr,stat:!0,forced:dr},{all:function(t){var e=this,n=sr(e),r=n.resolve,o=n.reject,i=Vn(function(){var n=We(e.resolve),i=[],u=0,c=1;Ye(t,function(t){var a=u++,s=!1;i.push(void 0),c++,n.call(e,t).then(function(t){s||(s=!0,i[a]=t,--c||r(i))},o)}),--c||r(i)});return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=sr(e),r=n.reject,o=Vn(function(){var o=We(e.resolve);Ye(t,function(t){o.call(e,t).then(n.resolve,r)})});return o.error&&r(o.value),n.promise}}),Ut({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=Wn.f(e),r=n.resolve,o=n.reject,i=Vn(function(){var n=We(e.resolve),o=[],i=0,u=1;Ye(t,function(t){var c=i++,a=!1;o.push(void 0),u++,n.call(e,t).then(function(t){a||(a=!0,o[c]={status:"fulfilled",value:t},--u||r(o))},function(t){a||(a=!0,o[c]={status:"rejected",reason:t},--u||r(o))})}),--u||r(o)});return i.error&&o(i.value),n.promise}});var xr=!!De&&u(function(){De.prototype.finally.call({then:function(){}},function(){})});Ut({target:"Promise",proto:!0,real:!0,forced:xr},{finally:function(t){var e=on(this,Et("Promise")),n="function"==typeof t;return this.then(n?function(n){return zn(e,t()).then(function(){return n})}:t,n?function(n){return zn(e,t()).then(function(){throw n})}:t)}}),"function"!=typeof De||De.prototype.finally||X(De.prototype,"finally",Et("Promise").prototype.finally);var Or=u(function(){te(1)});Ut({target:"Object",stat:!0,forced:Or},{keys:function(t){return te(Kt(t))}});var Ar=function(t,e){var n=[][t];return!!n&&u(function(){n.call(null,e||function(){throw 1},1)})},Lr=[].join,Tr=yt!=Object,Pr=Ar("join",",");Ut({target:"Array",proto:!0,forced:Tr||!Pr},{join:function(t){return Lr.call(gt(this),void 0===t?",":t)}});var _r=Function.call,kr=function(t,e,n){return Ke(_r,i[t].prototype[e],n)},Mr=(kr("Array","join"),Array.isArray||function(t){return"Array"==$(t)}),Ir=M("species"),Rr=function(t,e){var n;return Mr(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Mr(n.prototype)?a(n)&&null===(n=n[Ir])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Cr=[].push,Fr=function(t){var e=1==t,n=2==t,r=3==t,o=4==t,i=6==t,u=5==t||i;return function(c,a,s,f){for(var l,p,h=Kt(c),d=yt(h),v=Ke(a,s,3),y=xt(d.length),g=0,m=f||Rr,w=e?m(c,y):n?m(c,0):void 0;y>g;g++)if((u||g in d)&&(p=v(l=d[g],g,h),t))if(e)w[g]=p;else if(p)switch(t){case 3:return!0;case 5:return l;case 6:return g;case 2:Cr.call(w,l)}else if(o)return!1;return i?-1:r||o?o:w}},Dr={forEach:Fr(0),map:Fr(1),filter:Fr(2),some:Fr(3),every:Fr(4),find:Fr(5),findIndex:Fr(6)},Nr=Object.defineProperty,Gr={},qr=function(t){throw t},Wr=Dr.forEach,zr=Ar("forEach"),Vr=function(t,e){if(j(Gr,"forEach"))return Gr.forEach;e||(e={});var n=[].forEach,r=!!j(e,"ACCESSORS")&&e.ACCESSORS,o=j(e,0)?e[0]:qr,i=j(e,1)?e[1]:void 0;return Gr.forEach=!!n&&!u(function(){if(r&&!c)return!0;var t={length:-1};r?Nr(t,1,{enumerable:!0,get:qr}):t[1]=1,n.call(t,o,i)})}(),Ur=zr&&Vr?[].forEach:function(t){return Wr(this,t,arguments.length>1?arguments[1]:void 0)};Ut({target:"Array",proto:!0,forced:[].forEach!=Ur},{forEach:Ur}),kr("Array","forEach");var Kr,Br=!u(function(){return Object.isExtensible(Object.preventExtensions({}))}),Hr=r(function(t){var e=y.f,n=A("meta"),r=0,o=Object.isExtensible||function(){return!0},i=function(t){e(t,n,{value:{objectID:"O"+ ++r,weakData:{}}})},u=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!j(t,n)){if(!o(t))return"F";if(!e)return"E";i(t)}return t[n].objectID},getWeakData:function(t,e){if(!j(t,n)){if(!o(t))return!0;if(!e)return!1;i(t)}return t[n].weakData},onFreeze:function(t){return Br&&u.REQUIRED&&o(t)&&!j(t,n)&&i(t),t}};U[n]=!0}),Yr=y.f,Qr=Hr.fastKey,Jr=J.set,Xr=J.getterFor,Zr=(function(t,e,n){var r=-1!=="Map".indexOf("Map"),o=-1!=="Map".indexOf("Weak"),c=r?"set":"add",s=i.Map,f=s&&s.prototype,l=s,p={},h=function(t){var e=f[t];X(f,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(o&&!a(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return o&&!a(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(o&&!a(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(zt("Map","function"!=typeof s||!(o||f.forEach&&!u(function(){(new s).entries().next()}))))l=n.getConstructor(e,"Map",r,c),Hr.REQUIRED=!0;else if(zt("Map",!0)){var d=new l,v=d[c](o?{}:-0,1)!=d,y=u(function(){d.has(1)}),g=nn(function(t){new s(t)}),m=!o&&u(function(){for(var t=new s,e=5;e--;)t[c](e,e);return!t.has(-0)});g||((l=e(function(t,e){ze(t,l,"Map");var n=function(t,e,n){var r,o;return de&&"function"==typeof(r=e.constructor)&&r!==n&&a(o=r.prototype)&&o!==n.prototype&&de(t,o),t}(new s,t,l);return null!=e&&Ye(e,n[c],n,r),n})).prototype=f,f.constructor=l),(y||m)&&(h("delete"),h("has"),r&&h("get")),(m||v)&&h(c),o&&f.clear&&delete f.clear}p.Map=l,Ut({global:!0,forced:l!=s},p),fe(l,"Map"),o||n.setStrong(l,"Map",r)}(0,function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},{getConstructor:function(t,e,n,r){var o=t(function(t,i){ze(t,o,e),Jr(t,{type:e,index:ce(null),first:void 0,last:void 0,size:0}),c||(t.size=0),null!=i&&Ye(i,t[r],t,n)}),i=Xr(e),u=function(t,e,n){var r,o,u=i(t),s=a(t,e);return s?s.value=n:(u.last=s={index:o=Qr(e,!0),key:e,value:n,previous:r=u.last,next:void 0,removed:!1},u.first||(u.first=s),r&&(r.next=s),c?u.size++:t.size++,"F"!==o&&(u.index[o]=s)),t},a=function(t,e){var n,r=i(t),o=Qr(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return Ne(o.prototype,{clear:function(){for(var t=i(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,c?t.size=0:this.size=0},delete:function(t){var e=i(this),n=a(this,t);if(n){var r=n.next,o=n.previous;delete e.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),e.first==n&&(e.first=r),e.last==n&&(e.last=o),c?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=i(this),r=Ke(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!a(this,t)}}),Ne(o.prototype,n?{get:function(t){var e=a(this,t);return e&&e.value},set:function(t,e){return u(this,0===t?0:t,e)}}:{add:function(t){return u(this,t=0===t?0:t,t)}}),c&&Yr(o.prototype,"size",{get:function(){return i(this).size}}),o},setStrong:function(t,e,n){var r=e+" Iterator",o=Xr(e),i=Xr(r);we(t,e,function(t,e){Jr(this,{type:r,target:t,state:o(t),kind:e,last:void 0})},function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),qe(e)}}),M("match")),$r=function(t){if(function(t){var e;return a(t)&&(void 0!==(e=t[Zr])?!!e:"RegExp"==$(t))}(t))throw TypeError("The method doesn't accept regular expressions");return t},to=M("match"),eo=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[to]=!1,"/./"[t](e)}catch(t){}}return!1},no=wt.f,ro="".startsWith,oo=Math.min,io=eo("startsWith"),uo=!(io||(Kr=no(String.prototype,"startsWith"),!Kr||Kr.writable));Ut({target:"String",proto:!0,forced:!uo&&!io},{startsWith:function(t){var e=String(st(this));$r(t);var n=xt(oo(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return ro?ro.call(e,r,n):e.slice(n,n+r.length)===r}}),kr("String","startsWith");var co,ao=wt.f,so="".endsWith,fo=Math.min,lo=eo("endsWith"),po=!lo&&!!function(){var t=ao(String.prototype,"endsWith");return t&&!t.writable}();function ho(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vo(t,e,n){return e&&ho(t.prototype,e),n&&ho(t,n),t}function yo(){return(yo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function go(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function mo(t){return(mo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wo(t,e){return(wo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bo(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function So(t,e,n){return(So=bo()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&wo(o,n.prototype),o}).apply(null,arguments)}function Eo(t){var e="function"==typeof Map?new Map:void 0;return(Eo=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return So(t,arguments,mo(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),wo(n,t)})(t)}Ut({target:"String",proto:!0,forced:!po&&!lo},{endsWith:function(t){var e=String(st(this));$r(t);var n=arguments.length>1?arguments[1]:void 0,r=xt(e.length),o=void 0===n?r:fo(xt(n),r),i=String(t);return so?so.call(e,i,o):e.slice(o-i.length,o)===i}}),kr("String","endsWith"),r(function(t){var e=function(t){var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function a(t,e,n,r){var o=Object.create((e&&e.prototype instanceof l?e:l).prototype),i=new j(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var u=n.delegate;if(u){var c=b(u,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var a=s(t,e,n);if("normal"===a.type){if(r=n.done?"completed":"suspendedYield",a.arg===f)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(r="completed",n.method="throw",n.arg=a.arg)}}}(t,n,i),o}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var f={};function l(){}function p(){}function h(){}var d={};d[o]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(x([])));y&&y!==e&&n.call(y,o)&&(d=y);var g=h.prototype=l.prototype=Object.create(d);function m(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var r;this._invoke=function(o,i){function u(){return new e(function(r,u){!function r(o,i,u,c){var a=s(t[o],t,i);if("throw"!==a.type){var f=a.arg,l=f.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then(function(t){r("next",t,u,c)},function(t){r("throw",t,u,c)}):e.resolve(l).then(function(t){f.value=t,u(f)},function(t){return r("throw",t,u,c)})}c(a.arg)}(o,i,r,u)})}return r=r?r.then(u,u):u()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function x(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=g.constructor=h,h.constructor=p,p.displayName=c(h,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},m(w.prototype),w.prototype[i]=function(){return this},t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var u=new w(a(e,n,r,o),i);return t.isGeneratorFunction(n)?u:u.next().then(function(t){return t.done?t.value:u.next()})},m(g),c(g,u,"Generator"),g[o]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=x,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return u.type="throw",u.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),a=n.call(i,"finallyLoc");if(c&&a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}),(co=t.ApiMode||(t.ApiMode={})).LIVE="live",co.TEST="test";var jo=function(){function t(t,e){this.userAgentComponents=[],this.credentials=t,this.config=e}var e=t.prototype;return e.urlFor=function(t){return(this.apiRoot.endsWith("/")?this.apiRoot.slice(0,-1):this.apiRoot)+"/"+(t.startsWith("/")?t.slice(1):t)},e.addUserAgentComponent=function(t,e){this.userAgentComponents.push(e?t+"/"+e:t)},vo(t,[{key:"apiRoot",get:function(){return this.config.apiRoot[this.mode].trim()}},{key:"mode",get:function(){return this.config.mode},set:function(t){this.config.mode=t}},{key:"logger",get:function(){return this.config.logger}},{key:"userAgentString",get:function(){return this.userAgentComponents.reverse().join("; ")}}]),t}(),xo=function(){function t(t){this.response=t}return vo(t,[{key:"statusCode",get:function(){return this.response.status}},{key:"data",get:function(){return this.response.data}}]),t}(),Oo=function(t){function e(e,n,r){var o;return(o=t.call(this)||this).message=e,o.request=n,o.response=r,o}return go(e,t),e}(Eo(Error)),Ao=function(){function t(t,e){this.context=t,this.url=e,this.headers={"X-Alma-Agent":this.context.userAgentString,Accept:"application/json"},this.params={},this.body=null}var n=t.prototype;return n.setBody=function(t){return this.body=t,this},n.setQueryParams=function(t){return this.params=t,this},n.requestConfig=function(t){var e={url:this.url,headers:this.headers,params:this.params,method:t};return this.body&&(e.data=this.body),this.context.credentials.configureCredentials(e)},n.sendRequest=function(n){return e.request(this.requestConfig(n)).then(t.processResponse).catch(this.processErrorResponse)},n.get=function(){return this.body=null,this.sendRequest("get")},n.post=function(){return this.sendRequest("post")},n.put=function(){return this.sendRequest("put")},t.processResponse=function(t){return new xo(t)},n.processErrorResponse=function(t){var e,n="Unknown error";throw t.response?(e=new xo(t.response)).data&&(n=e.data.message||e.data.error):n=t.name+": "+t.message,new Oo(n,this,e)},t}(),Lo=function(){function t(t){this.context=t}return t.prototype.request=function(t){return new Ao(this.context,this.context.urlFor(t))},vo(t,[{key:"logger",get:function(){return this.context.logger}}]),t}(),To=function(t){function e(){return t.apply(this,arguments)||this}return go(e,t),vo(e,[{key:"isEligible",get:function(){return this.eligible}}]),e}(function(){function t(t){var e=this;this.data=t,Object.keys(t).forEach(function(n){return e[n]=t[n]})}return vo(t,[{key:"rawData",get:function(){return this.data}}]),t}()),Po=function(t){function e(){return t.apply(this,arguments)||this}go(e,t);var n=e.prototype;return n.eligibility=function(t){try{return Promise.resolve(this.request("/v1/payments/eligibility").setBody(t).post()).then(function(t){var e=t.statusCode>=500,n=t.data;return!e&&Array.isArray(n)?(n=n.sort(function(t,e){return t.installments_count-e.installments_count})).map(function(t){return new To(t)}):new To(!e&&n&&"object"==typeof n?n:{eligible:!1})})}catch(t){return Promise.reject(t)}},n.create=function(t){try{return Promise.resolve(this.request("/v1/payments").setBody(t).post()).then(function(t){return t.data})}catch(t){return Promise.reject(t)}},e}(Lo),_o=function(){function t(t){if(!t.trim())throw new Error("An API key is required to instantiate a new Client");this.apiKey=t}return t.prototype.configureCredentials=function(t){return yo({},t,{headers:yo({},t.headers,{Authorization:"Alma-Auth "+this.apiKey})})},t}(),ko=function(){function t(t){if(!t.trim())throw new Error("A merchant ID is required to instantiate a new Client");this.merchantId=t}return t.prototype.configureCredentials=function(t){return yo({},t,{headers:yo({},t.headers,{Authorization:"Alma-Merchant-Auth "+this.merchantId})})},t}();t.Client=function(){function e(t,n){void 0===n&&(n={}),this.endpoints=new Map;var r=e.initConfig(t,n);this.context=new jo(t,r),this.initUserAgent()}e.withApiKey=function(t,n){return void 0===n&&(n={}),new e(new _o(t),n)},e.withMerchantId=function(t,n){return void 0===n&&(n={}),new e(new ko(t),n)},e.initConfig=function(e,n){var r,o,i={apiRoot:(r={},r[t.ApiMode.TEST]="https://api.sandbox.getalma.eu",r[t.ApiMode.LIVE]="https://api.getalma.eu",r),mode:t.ApiMode.LIVE,logger:console},u=n.apiRoot,c=n.mode;if("string"==typeof u)n.apiRoot=((o={})[t.ApiMode.TEST]=u,o[t.ApiMode.LIVE]=u,o);else if(u&&(!u[t.ApiMode.TEST]||!u[t.ApiMode.LIVE]))throw new Error("ClientOptions `apiRoot` must be a string or an object with ApiMode values as keys");if(c&&c!==t.ApiMode.LIVE&&c!==t.ApiMode.TEST)throw new Error("ClientOptions `mode` must be an ApiMode value");return!c&&e instanceof _o&&(n.mode=e.apiKey.indexOf("_live_",2)>0?t.ApiMode.LIVE:t.ApiMode.TEST),yo({},i,n)};var n=e.prototype;return n.initUserAgent=function(){this.addUserAgentComponent("JavaScript"),this.addUserAgentComponent("Alma for JS","1.1.1")},n.addUserAgentComponent=function(t,e){this.context.addUserAgentComponent(t,e)},n.endpoint=function(t){var e=this.endpoints.get(t);return e||(e=new t(this.context),this.endpoints.set(t,e)),e},vo(e,[{key:"payments",get:function(){return this.endpoint(Po)}},{key:"mode",get:function(){return this.context.mode},set:function(t){this.context.mode=t}}]),e}(),t.Eligibility=To});
//# sourceMappingURL=alma-client.umd.js.map
